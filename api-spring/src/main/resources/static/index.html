<!doctype html><html lang="ko"><head><meta charset="UTF-8"><title>시각적 탐사 데이터 분석 지원 도구</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script><link href="sidebars.css" rel="stylesheet"><script src="sidebars.js"></script><script src="https://code.jquery.com/jquery-3.6.1.slim.min.js" integrity="sha256-w8CvhFs7iHNVUtnSP0YKEg00p9Ih13rlL9zGqvLdePA=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/danfojs@1.1.2/lib/bundle.min.js"></script><script src="https://bossanova.uk/jspreadsheet/v4/jexcel.js"></script><link rel="stylesheet" href="https://bossanova.uk/jspreadsheet/v4/jexcel.css"/><script src="https://jsuites.net/v4/jsuites.js"></script><link rel="stylesheet" href="https://jsuites.net/v4/jsuites.css"/><style>svg{font:10px sans-serif;padding:10px}.axis,.frame{shape-rendering:crispEdges}.axis line{stroke:#ddd}.axis path{display:none}.cell text{font-weight:700;text-transform:capitalize;fill:black}.frame{fill:none;stroke:#aaa}circle{fill-opacity:.7}circle.hidden{fill:#ccc!important}.extent{fill:#000;fill-opacity:.125;stroke:#fff}</style><script src="https://d3js.org/d3.v4.min.js"></script><script defer="defer" src="/static/js/main.09a3df51.js"></script><link href="/static/css/main.158bd326.css" rel="stylesheet"></head><body><img src="icon.png" alt="" width="50px" height="50px" style="position:absolute;top:5px;left:45px"><nav class="navbar navbar-dark navbar-expand-lg bg-dark" style="margin-left:100px;margin-right:100px;margin-bottom:50px;border-bottom-left-radius:10px;border-bottom-right-radius:10px"><div class="container-fluid"><a class="navbar-brand fw-bolder" href="#">시각적 탐사 데이터 분석 지원 도구</a></div></nav><main style="margin-left:100px;margin-right:100px;margin-bottom:50px"><div class="flex-shrink-0 p-3 bg-white" style="width:280px"><a href="#" class="d-flex align-items-center pb-3 mb-3 link-dark text-decoration-none border-bottom"><span class="fs-5 fw-semibold">확장된 질의 요청</span></a></div><div class="container-fluid"><div class="row"><div class="input-group"><textarea id="query" class="form-control" aria-label="With textarea" style="height:70px;margin-bottom:20px">
SELECT * FROM IRIS WITHIN 1SEC
                </textarea></div></div><div class="row"><div class="col-8"></div><div class="col-1"><h6 style="margin-top:10px">실행모드</h6></div><div class="col-2"><label><select class="form-control"><option>디버그 모드</option><option>런타임 모드</option></select></label></div><div class="col-1"><button type="button" class="btn btn-primary" style="float:right" onclick="request_query()">실행</button></div></div></div></main><main style="margin-left:100px;margin-right:100px;margin-bottom:100px"><div class="flex-shrink-0 p-3 bg-white" style="width:280px"><a href="#" class="d-flex align-items-center pb-3 mb-3 link-dark text-decoration-none border-bottom"><span class="fs-5 fw-semibold">질의 결과</span></a></div><div class="container-fluid" style="margin-left:10px;margin-bottom:100px"><div class="row"><div class="col"><ul class="nav nav-tabs" id="gridTab" role="tablist" style="margin-bottom:20px"><li class="nav-item" role="presentation"><button class="nav-link fw-bold active" id="grid-tab-0" data-bs-toggle="tab" data-bs-target="#grid-content-0" type="button" role="tab" aria-controls="grid-content-0" aria-selected="true">스프레드시트</button></li><li class="nav-item" role="presentation"><button class="nav-link fw-bold" id="grid-tab-1" data-bs-toggle="tab" data-bs-target="#grid-content-1" type="button" role="tab" aria-controls="grid-content-1" aria-selected="false">피벗 그리드</button></li></ul><div class="tab-content" id="gridTabContent"><div class="tab-pane fade show active overflow-auto" id="grid-content-0" role="tabpanel" aria-labelledby="grid-tab-0" tabindex="0" style="max-width:700px;max-height:700px"></div><div class="tab-pane fade" id="grid-content-1" role="tabpanel" aria-labelledby="grid-tab-1" tabindex="1" style="max-width:700px;max-height:700px"><div id="root"></div></div></div></div><div class="col"><ul class="nav nav-tabs" id="chartTab" role="tablist" style="margin-bottom:20px"><li class="nav-item" role="presentation"><button class="nav-link fw-bold active" id="chart-tab-0" data-bs-toggle="tab" data-bs-target="#chart-content-0" type="button" role="tab" aria-controls="chart-content-0" aria-selected="true">산점도</button></li><li class="nav-item" role="presentation"><button class="nav-link fw-bold" id="chart-tab-1" data-bs-toggle="tab" data-bs-target="#chart-content-1" type="button" role="tab" aria-controls="chart-content-1" aria-selected="false">파이차트</button></li><li class="nav-item" role="presentation"><button class="nav-link fw-bold" id="chart-tab-2" data-bs-toggle="tab" data-bs-target="#chart-content-2" type="button" role="tab" aria-controls="chart-content-3" aria-selected="false">히스토그램</button></li><li class="nav-item" role="presentation"><button class="nav-link fw-bold" id="chart-tab-3" data-bs-toggle="tab" data-bs-target="#chart-content-3" type="button" role="tab" aria-controls="chart-content-4" aria-selected="false">트리맵</button></li><li class="nav-item" role="presentation"><button class="nav-link fw-bold" id="chart-tab-4" data-bs-toggle="tab" data-bs-target="#chart-content-4" type="button" role="tab" aria-controls="chart-content-5" aria-selected="false">3차원그래프</button></li><li class="nav-item" role="presentation"><button class="nav-link fw-bold" id="chart-tab-5" data-bs-toggle="tab" data-bs-target="#chart-content-5" type="button" role="tab" aria-controls="chart-content-6" aria-selected="false">연결그래프</button></li><li class="nav-item" role="presentation"><button class="nav-link fw-bold" id="chart-tab-6" data-bs-toggle="tab" data-bs-target="#chart-content-6" type="button" role="tab" aria-controls="chart-content-7" aria-selected="false">박스플롯</button></li><li class="nav-item" role="presentation"><button class="nav-link fw-bold" id="chart-tab-7" data-bs-toggle="tab" data-bs-target="#chart-content-7" type="button" role="tab" aria-controls="chart-content-8" aria-selected="false">지도연계</button></li></ul><div class="tab-content" id="chartTabContent"><div class="tab-pane fade show active overflow-auto d3-scatter" id="chart-content-0" role="tabpanel" aria-labelledby="chart-tab-0" tabindex="0" style="max-width:700px;max-height:700px"></div><div class="tab-pane fade" id="chart-content-1" role="tabpanel" aria-labelledby="chart-tab-1" tabindex="1" style="max-width:700px;max-height:700px">파이차트</div><div class="tab-pane fade" id="chart-content-2" role="tabpanel" aria-labelledby="chart-tab-2" tabindex="2" style="max-width:700px;max-height:700px">히스토그램</div><div class="tab-pane fade" id="chart-content-3" role="tabpanel" aria-labelledby="chart-tab-3" tabindex="3" style="max-width:700px;max-height:700px">트리맵</div><div class="tab-pane fade" id="chart-content-4" role="tabpanel" aria-labelledby="chart-tab-4" tabindex="4" style="max-width:700px;max-height:700px">3차원그래프</div><div class="tab-pane fade" id="chart-content-5" role="tabpanel" aria-labelledby="chart-tab-5" tabindex="5" style="max-width:700px;max-height:700px">연결그래프</div><div class="tab-pane fade" id="chart-content-6" role="tabpanel" aria-labelledby="chart-tab-6" tabindex="6" style="max-width:700px;max-height:700px">박스플롯</div><div class="tab-pane fade" id="chart-content-7" role="tabpanel" aria-labelledby="chart-tab-7" tabindex="7" style="max-width:700px;max-height:700px">지도연계</div></div></div></div></div></main></body><script>function on_csv_loaded(t,e){if(t)throw t;set_spreed_sheet(e),set_d3_scatter(e)}function set_spreed_sheet(t){jspreadsheet(document.getElementById("grid-content-0"),{data:t,columns:[{title:"petal_width",width:120},{title:"petal_length",width:120},{title:"sepal_width",width:120},{title:"sepal_length",width:120},{title:"species",width:120,type:"dropdown",source:["setosa","versicolor","virginica"]}]})}function set_d3_scatter(t){let e=160,a=10,n=d3.scaleLinear().range([5,155]),r=d3.scaleLinear().range([155,5]),s=d3.axisBottom().scale(n).ticks(6),l=d3.axisLeft().scale(r).ticks(6),c=d3.scaleOrdinal(d3.schemeCategory10);var i={},d=d3.keys(t[0]).filter((function(t){return"species"!==t})),o=d.length;d.forEach((function(e){i[e]=d3.extent(t,(function(t){return t[e]}))})),s.tickSize(e*o),l.tickSize(-160*o);var u=d3.brush().on("start",(function(t){h!==this&&(d3.select(h).call(u.move,null),h=this,n.domain(i[t.x]),r.domain(i[t.y]))})).on("brush",(function(t){var e=d3.brushSelection(this);p.selectAll("circle").classed("hidden",(function(a){return!!e&&(e[0][0]>n(+a[t.x])||n(+a[t.x])>e[1][0]||e[0][1]>r(+a[t.y])||r(+a[t.y])>e[1][1])}))})).on("end",(function(){null===d3.brushSelection(this)&&p.selectAll(".hidden").classed("hidden",!1)})).extent([[0,0],[e,e]]),p=d3.select(".d3-scatter").append("svg").attr("width",e*o+a).attr("height",e*o+a).append("g").attr("transform","translate(10,5)");p.selectAll(".x.axis").data(d).enter().append("g").attr("class","x axis").attr("transform",(function(t,a){return"translate("+(o-a-1)*e+",0)"})).each((function(t){n.domain(i[t]),d3.select(this).call(s)})),p.selectAll(".y.axis").data(d).enter().append("g").attr("class","y axis").attr("transform",(function(t,a){return"translate(0,"+a*e+")"})).each((function(t){r.domain(i[t]),d3.select(this).call(l)}));var h,f=p.selectAll(".cell").data(function(t,e){var a,n,r=[],s=t.length,l=e.length;for(a=-1;++a<s;)for(n=-1;++n<l;)r.push({x:t[a],i:a,y:e[n],j:n});return r}(d,d)).enter().append("g").attr("class","cell").attr("transform",(function(t){return"translate("+(o-t.i-1)*e+","+t.j*e+")"})).each((function(e){var a=d3.select(this);n.domain(i[e.x]),r.domain(i[e.y]),a.append("rect").attr("class","frame").attr("x",5).attr("y",5).attr("width",150).attr("height",150),a.selectAll("circle").data(t).enter().append("circle").attr("cx",(function(t){return n(t[e.x])})).attr("cy",(function(t){return r(t[e.y])})).attr("r",4).style("fill",(function(t){return c(t.species)}))}));f.filter((function(t){return t.i===t.j})).append("text").attr("x",a).attr("y",a).attr("dy",".71em").text((function(t){return t.x})),f.call(u)}function set_d3_piechart(t){let e=d3.format(".1s"),a=d3.scaleSqrt().range([0,220]),n=d3.scaleOrdinal().range(["#98abc5","#8a89a6","#7b6888","#6b486b","#a05d56","#d0743c","#ff8c00"]),r=d3.arc().padRadius(50),s=d3.pie().sort(null).padAngle(.02).value((function(t){return t.population}));new dfd.DataFrame(t).species.unique();a.domain([0,d3.max(t,(function(t){return t.sum}))]),n.domain(t.columns.slice(1));var l=d3.select("body").append("svg").attr("class","legend").attr("width",120).attr("height",20*(t.columns.length-1)).selectAll("g").data(t.columns.slice(1).reverse()).enter().append("g").attr("transform",(function(t,e){return"translate(0,"+20*e+")"}));l.append("rect").attr("width",18).attr("height",18).style("fill",n),l.append("text").attr("x",24).attr("y",9).attr("dy",".35em").text((function(t){return t}));var c=d3.select("body").selectAll(".pie").data(t.sort((function(t,e){return e.sum-t.sum}))).enter().append("svg").attr("class","pie").each((function(t){var e=a(t.sum);d3.select(this).attr("width",2*e).attr("height",2*e).append("g").attr("transform","translate("+e+","+e+")").selectAll(".arc").data((function(t){return s(t.ages)})).enter().append("path").attr("class","arc").attr("d",r.outerRadius(e).innerRadius(.6*e)).style("fill",(function(t){return n(t.data.age)}))})).select("g").append("text").attr("class","label");c.append("tspan").attr("class","label-name").attr("x",0).attr("dy","-.2em").text((function(t){return t.state})),c.append("tspan").attr("class","label-value").attr("x",0).attr("dy","1.1em").text((function(t){return e(t.sum)}))}d3.csv("iris.csv",on_csv_loaded)</script></html>